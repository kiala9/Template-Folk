#! /usr/bin/vvp
:ivl_version "11.0 (stable)";
:ivl_delay_selection "TYPICAL";
:vpi_time_precision + 0;
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/system.vpi";
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/vhdl_sys.vpi";
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/vhdl_textio.vpi";
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/v2005_math.vpi";
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/va_math.vpi";
:vpi_module "/usr/lib/x86_64-linux-gnu/ivl/v2009.vpi";
S_0x563a750a99a0 .scope package, "$unit" "$unit" 2 1;
 .timescale 0 0;
S_0x563a750a9b30 .scope module, "fifo_tb" "fifo_tb" 3 1;
 .timescale 0 0;
P_0x563a750957c0 .param/l "AWIDTH" 1 3 4, +C4<00000000000000000000000000000010>;
P_0x563a75095800 .param/l "MAX_DATA" 0 3 3, +C4<00000000000000000000000000000100>;
v0x563a750d5c60_0 .var "clk", 0 0;
v0x563a750d5d20_0 .net "count", 2 0, v0x563a750d5490_0;  1 drivers
v0x563a750d5e10_0 .net "rdata", 7 0, v0x563a750d56d0_0;  1 drivers
v0x563a750d5f10_0 .var "ren", 0 0;
v0x563a750d5fb0_0 .var "rst", 0 0;
v0x563a750d60a0_0 .var "wdata", 7 0;
v0x563a750d6140_0 .var "wen", 0 0;
S_0x563a750af200 .scope module, "dut" "fifo" 3 16, 4 24 0, S_0x563a750a9b30;
 .timescale 0 0;
    .port_info 0 /INPUT 1 "wen";
    .port_info 1 /INPUT 1 "ren";
    .port_info 2 /INPUT 1 "clk";
    .port_info 3 /INPUT 1 "rst";
    .port_info 4 /INPUT 8 "wdata";
    .port_info 5 /OUTPUT 8 "rdata";
    .port_info 6 /OUTPUT 3 "count";
P_0x563a750a25f0 .param/l "AWIDTH" 1 4 26, +C4<00000000000000000000000000000010>;
P_0x563a750a2630 .param/l "MAX_DATA" 0 4 25, +C4<00000000000000000000000000000100>;
v0x563a750d5380_0 .net "clk", 0 0, v0x563a750d5c60_0;  1 drivers
v0x563a750d5490_0 .var "count", 2 0;
v0x563a750d5570 .array "data", 0 3, 7 0;
v0x563a750d5610_0 .net "raddr", 1 0, v0x563a750a1440_0;  1 drivers
v0x563a750d56d0_0 .var "rdata", 7 0;
v0x563a750d57e0_0 .net "ren", 0 0, v0x563a750d5f10_0;  1 drivers
v0x563a750d5880_0 .net "rst", 0 0, v0x563a750d5fb0_0;  1 drivers
v0x563a750d5970_0 .net "waddr", 1 0, v0x563a7509bab0_0;  1 drivers
v0x563a750d5a10_0 .net "wdata", 7 0, v0x563a750d60a0_0;  1 drivers
v0x563a750d5ad0_0 .net "wen", 0 0, v0x563a750d6140_0;  1 drivers
E_0x563a7506f5f0 .event posedge, v0x563a750a2b80_0;
S_0x563a750af480 .scope module, "fifo_reader" "addr_gen" 4 52, 4 2 0, S_0x563a750af200;
 .timescale 0 0;
    .port_info 0 /INPUT 1 "en";
    .port_info 1 /INPUT 1 "clk";
    .port_info 2 /INPUT 1 "rst";
    .port_info 3 /OUTPUT 2 "addr";
P_0x563a750a2680 .param/l "AWIDTH" 1 4 4, +C4<00000000000000000000000000000010>;
P_0x563a750a26c0 .param/l "MAX_DATA" 0 4 3, +C4<00000000000000000000000000000100>;
v0x563a750a1440_0 .var "addr", 1 0;
v0x563a750a2b80_0 .net "clk", 0 0, v0x563a750d5c60_0;  alias, 1 drivers
v0x563a750a3680_0 .net "en", 0 0, v0x563a750d5f10_0;  alias, 1 drivers
v0x563a7509ba10_0 .net "rst", 0 0, v0x563a750d5fb0_0;  alias, 1 drivers
E_0x563a750a8110 .event posedge, v0x563a7509ba10_0, v0x563a750a2b80_0;
S_0x563a750d4f00 .scope module, "fifo_writer" "addr_gen" 4 44, 4 2 0, S_0x563a750af200;
 .timescale 0 0;
    .port_info 0 /INPUT 1 "en";
    .port_info 1 /INPUT 1 "clk";
    .port_info 2 /INPUT 1 "rst";
    .port_info 3 /OUTPUT 2 "addr";
P_0x563a750a3490 .param/l "AWIDTH" 1 4 4, +C4<00000000000000000000000000000010>;
P_0x563a750a34d0 .param/l "MAX_DATA" 0 4 3, +C4<00000000000000000000000000000100>;
v0x563a7509bab0_0 .var "addr", 1 0;
v0x563a75099780_0 .net "clk", 0 0, v0x563a750d5c60_0;  alias, 1 drivers
v0x563a75099880_0 .net "en", 0 0, v0x563a750d6140_0;  alias, 1 drivers
v0x563a750d5260_0 .net "rst", 0 0, v0x563a750d5fb0_0;  alias, 1 drivers
    .scope S_0x563a750d4f00;
T_0 ;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x563a7509bab0_0, 0, 2;
    %end;
    .thread T_0;
    .scope S_0x563a750d4f00;
T_1 ;
    %wait E_0x563a750a8110;
    %load/vec4 v0x563a750d5260_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_1.0, 8;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x563a7509bab0_0, 0;
    %jmp T_1.1;
T_1.0 ;
    %load/vec4 v0x563a75099880_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_1.2, 8;
    %pushi/vec4 0, 0, 1;
    %load/vec4 v0x563a7509bab0_0;
    %concat/vec4; draw_concat_vec4
    %pad/u 32;
    %cmpi/e 3, 0, 32;
    %jmp/0xz  T_1.4, 4;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x563a7509bab0_0, 0;
    %jmp T_1.5;
T_1.4 ;
    %load/vec4 v0x563a7509bab0_0;
    %addi 1, 0, 2;
    %assign/vec4 v0x563a7509bab0_0, 0;
T_1.5 ;
T_1.2 ;
T_1.1 ;
    %jmp T_1;
    .thread T_1;
    .scope S_0x563a750af480;
T_2 ;
    %pushi/vec4 0, 0, 2;
    %store/vec4 v0x563a750a1440_0, 0, 2;
    %end;
    .thread T_2;
    .scope S_0x563a750af480;
T_3 ;
    %wait E_0x563a750a8110;
    %load/vec4 v0x563a7509ba10_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_3.0, 8;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x563a750a1440_0, 0;
    %jmp T_3.1;
T_3.0 ;
    %load/vec4 v0x563a750a3680_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_3.2, 8;
    %pushi/vec4 0, 0, 1;
    %load/vec4 v0x563a750a1440_0;
    %concat/vec4; draw_concat_vec4
    %pad/u 32;
    %cmpi/e 3, 0, 32;
    %jmp/0xz  T_3.4, 4;
    %pushi/vec4 0, 0, 2;
    %assign/vec4 v0x563a750a1440_0, 0;
    %jmp T_3.5;
T_3.4 ;
    %load/vec4 v0x563a750a1440_0;
    %addi 1, 0, 2;
    %assign/vec4 v0x563a750a1440_0, 0;
T_3.5 ;
T_3.2 ;
T_3.1 ;
    %jmp T_3;
    .thread T_3;
    .scope S_0x563a750af200;
T_4 ;
    %wait E_0x563a7506f5f0;
    %load/vec4 v0x563a750d5ad0_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_4.0, 8;
    %load/vec4 v0x563a750d5a10_0;
    %load/vec4 v0x563a750d5970_0;
    %pad/u 4;
    %ix/vec4 3;
    %ix/load 4, 0, 0; Constant delay
    %assign/vec4/a/d v0x563a750d5570, 0, 4;
T_4.0 ;
    %load/vec4 v0x563a750d5610_0;
    %pad/u 4;
    %ix/vec4 4;
    %load/vec4a v0x563a750d5570, 4;
    %assign/vec4 v0x563a750d56d0_0, 0;
    %jmp T_4;
    .thread T_4;
    .scope S_0x563a750af200;
T_5 ;
    %pushi/vec4 0, 0, 3;
    %store/vec4 v0x563a750d5490_0, 0, 3;
    %end;
    .thread T_5;
    .scope S_0x563a750af200;
T_6 ;
    %wait E_0x563a750a8110;
    %load/vec4 v0x563a750d5880_0;
    %flag_set/vec4 8;
    %jmp/0xz  T_6.0, 8;
    %pushi/vec4 0, 0, 3;
    %assign/vec4 v0x563a750d5490_0, 0;
    %jmp T_6.1;
T_6.0 ;
    %load/vec4 v0x563a750d5ad0_0;
    %load/vec4 v0x563a750d57e0_0;
    %nor/r;
    %and;
    %flag_set/vec4 8;
    %jmp/0xz  T_6.2, 8;
    %load/vec4 v0x563a750d5490_0;
    %addi 1, 0, 3;
    %assign/vec4 v0x563a750d5490_0, 0;
    %jmp T_6.3;
T_6.2 ;
    %load/vec4 v0x563a750d57e0_0;
    %load/vec4 v0x563a750d5ad0_0;
    %nor/r;
    %and;
    %flag_set/vec4 8;
    %jmp/0xz  T_6.4, 8;
    %load/vec4 v0x563a750d5490_0;
    %subi 1, 0, 3;
    %assign/vec4 v0x563a750d5490_0, 0;
T_6.4 ;
T_6.3 ;
T_6.1 ;
    %jmp T_6;
    .thread T_6;
    .scope S_0x563a750a9b30;
T_7 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x563a750d5c60_0, 0, 1;
    %end;
    .thread T_7;
    .scope S_0x563a750a9b30;
T_8 ;
    %delay 5, 0;
    %load/vec4 v0x563a750d5c60_0;
    %inv;
    %store/vec4 v0x563a750d5c60_0, 0, 1;
    %jmp T_8;
    .thread T_8;
    .scope S_0x563a750a9b30;
T_9 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x563a750d6140_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x563a750d5f10_0, 0, 1;
    %pushi/vec4 0, 0, 8;
    %store/vec4 v0x563a750d60a0_0, 0, 8;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x563a750d5fb0_0, 0, 1;
    %delay 15, 0;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x563a750d5fb0_0, 0, 1;
    %vpi_call/w 3 42 "$display", "\012=== Test 1: Basic write ===" {0 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x563a750d6140_0, 0, 1;
    %pushi/vec4 4, 0, 32;
T_9.0 %dup/vec4;
    %pushi/vec4 0, 0, 32;
    %cmp/s;
    %jmp/1xz T_9.1, 5;
    %jmp/1 T_9.1, 4;
    %pushi/vec4 1, 0, 32;
    %sub;
    %vpi_func 3 45 "$random" 32 {0 0 0};
    %pad/s 8;
    %store/vec4 v0x563a750d60a0_0, 0, 8;
    %wait E_0x563a7506f5f0;
    %delay 1, 0;
    %vpi_call/w 3 48 "$display", "Write: 0x%h | Count: %0d", v0x563a750d60a0_0, v0x563a750d5d20_0 {0 0 0};
    %jmp T_9.0;
T_9.1 ;
    %pop/vec4 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x563a750d6140_0, 0, 1;
    %load/vec4 v0x563a750d5d20_0;
    %pad/u 32;
    %cmpi/ne 4, 0, 32;
    %jmp/0xz  T_9.2, 6;
    %vpi_call/w 3 54 "$display", "Error: Expected count %0d, got %0d", P_0x563a75095800, v0x563a750d5d20_0 {0 0 0};
T_9.2 ;
    %vpi_call/w 3 57 "$display", "\012=== Test 2: Basic read ===" {0 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x563a750d5f10_0, 0, 1;
    %pushi/vec4 4, 0, 32;
T_9.4 %dup/vec4;
    %pushi/vec4 0, 0, 32;
    %cmp/s;
    %jmp/1xz T_9.5, 5;
    %jmp/1 T_9.5, 4;
    %pushi/vec4 1, 0, 32;
    %sub;
    %wait E_0x563a7506f5f0;
    %delay 1, 0;
    %vpi_call/w 3 62 "$display", "Read: 0x%h | Count: %0d", v0x563a750d5e10_0, v0x563a750d5d20_0 {0 0 0};
    %jmp T_9.4;
T_9.5 ;
    %pop/vec4 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x563a750d5f10_0, 0, 1;
    %load/vec4 v0x563a750d5d20_0;
    %pad/u 32;
    %cmpi/ne 0, 0, 32;
    %jmp/0xz  T_9.6, 6;
    %vpi_call/w 3 68 "$display", "Error: Expected count 0, got %0d", v0x563a750d5d20_0 {0 0 0};
T_9.6 ;
    %vpi_call/w 3 71 "$display", "\012=== Test 3: Concurrent R/W ===" {0 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x563a750d6140_0, 0, 1;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x563a750d5f10_0, 0, 1;
    %pushi/vec4 4, 0, 32;
T_9.8 %dup/vec4;
    %pushi/vec4 0, 0, 32;
    %cmp/s;
    %jmp/1xz T_9.9, 5;
    %jmp/1 T_9.9, 4;
    %pushi/vec4 1, 0, 32;
    %sub;
    %vpi_func 3 75 "$random" 32 {0 0 0};
    %pad/s 8;
    %store/vec4 v0x563a750d60a0_0, 0, 8;
    %wait E_0x563a7506f5f0;
    %delay 1, 0;
    %vpi_call/w 3 78 "$display", "Write: 0x%h | Read: 0x%h | Count: %0d", v0x563a750d60a0_0, v0x563a750d5e10_0, v0x563a750d5d20_0 {0 0 0};
    %jmp T_9.8;
T_9.9 ;
    %pop/vec4 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x563a750d6140_0, 0, 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x563a750d5f10_0, 0, 1;
    %vpi_call/w 3 85 "$display", "\012=== Test 4: Boundary cases ===" {0 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x563a750d6140_0, 0, 1;
    %pushi/vec4 6, 0, 32;
T_9.10 %dup/vec4;
    %pushi/vec4 0, 0, 32;
    %cmp/s;
    %jmp/1xz T_9.11, 5;
    %jmp/1 T_9.11, 4;
    %pushi/vec4 1, 0, 32;
    %sub;
    %vpi_func 3 90 "$urandom" 32 {0 0 0};
    %pad/u 8;
    %store/vec4 v0x563a750d60a0_0, 0, 8;
    %wait E_0x563a7506f5f0;
    %jmp T_9.10;
T_9.11 ;
    %pop/vec4 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x563a750d6140_0, 0, 1;
    %vpi_call/w 3 94 "$display", "Overflow count: %0d", v0x563a750d5d20_0 {0 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x563a750d5f10_0, 0, 1;
    %pushi/vec4 6, 0, 32;
T_9.12 %dup/vec4;
    %pushi/vec4 0, 0, 32;
    %cmp/s;
    %jmp/1xz T_9.13, 5;
    %jmp/1 T_9.13, 4;
    %pushi/vec4 1, 0, 32;
    %sub;
    %wait E_0x563a7506f5f0;
    %jmp T_9.12;
T_9.13 ;
    %pop/vec4 1;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x563a750d5f10_0, 0, 1;
    %vpi_call/w 3 100 "$display", "Underflow count: %0d", v0x563a750d5d20_0 {0 0 0};
    %delay 100, 0;
    %vpi_call/w 3 104 "$display", "\012Testbench completed" {0 0 0};
    %vpi_call/w 3 105 "$finish" {0 0 0};
    %end;
    .thread T_9;
    .scope S_0x563a750a9b30;
T_10 ;
    %vpi_call/w 3 110 "$dumpfile", "fifo.vcd" {0 0 0};
    %vpi_call/w 3 111 "$dumpvars", 32'sb00000000000000000000000000000000, S_0x563a750a9b30 {0 0 0};
    %end;
    .thread T_10;
# The file index is used to find the file name in the following table.
:file_names 5;
    "N/A";
    "<interactive>";
    "-";
    "fifo_tb.v";
    "fifo.v";
